# ğŸ“‹ Há»‡ Thá»‘ng E-Learning - TÃ³m Táº¯t Thiáº¿t Káº¿

## Tá»•ng Quan

á»¨ng dá»¥ng Flutter E-Learning vá»›i hai vai trÃ² chÃ­nh: **Há»c sinh (Student)** vÃ  **Giáº£ng viÃªn (Instructor)**, tÃ­ch há»£p Firebase Ä‘á»ƒ lÆ°u trá»¯ dá»¯ liá»‡u vÃ  quáº£n lÃ½ ngÆ°á»i dÃ¹ng.

---

## Kiáº¿n TrÃºc Há»‡ Thá»‘ng

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ELEARNING APP                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              LOGIN/SIGNUP SCREEN                      â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚ Student     â”‚           â”‚ Instructor           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ - Email     â”‚     OR     â”‚ - Email              â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ - Password  â”‚           â”‚ - Password           â”‚   â”‚   â”‚
â”‚  â”‚  â”‚ - Role      â”‚           â”‚ - Role               â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                           â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    ROLE-BASED ROUTING (AuthService Stream)          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â†™                                         â†˜           â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  STUDENT DASHBOARD   â”‚      â”‚ INSTRUCTOR DASHBOARD    â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ - Enrolled Courses   â”‚      â”‚ - Created Courses       â”‚ â”‚
â”‚  â”‚ - Browse Courses     â”‚      â”‚ - Create New Course     â”‚ â”‚
â”‚  â”‚ - Materials          â”‚      â”‚ - Upload Materials      â”‚ â”‚
â”‚  â”‚ - Assignments        â”‚      â”‚ - Create Quizzes       â”‚ â”‚
â”‚  â”‚ - Quizzes            â”‚      â”‚ - Import Students (CSV) â”‚ â”‚
â”‚  â”‚ - View Grades        â”‚      â”‚ - Grade Assignments     â”‚ â”‚
â”‚  â”‚ - User Profile       â”‚      â”‚ - View Analytics        â”‚ â”‚
â”‚  â”‚ - Logout             â”‚      â”‚ - User Profile          â”‚ â”‚
â”‚  â”‚                      â”‚      â”‚ - Logout                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Cáº¥u TrÃºc CÆ¡ Sá»Ÿ Dá»¯ Liá»‡u (Firestore)

```
Firestore Database
â”‚
â”œâ”€â”€ users/                          (LÆ°u trá»¯ thÃ´ng tin ngÆ°á»i dÃ¹ng)
â”‚   â”œâ”€â”€ {uid}/
â”‚   â”‚   â”œâ”€â”€ email: string
â”‚   â”‚   â”œâ”€â”€ fullName: string
â”‚   â”‚   â”œâ”€â”€ role: "student" | "instructor"
â”‚   â”‚   â”œâ”€â”€ createdAt: timestamp
â”‚   â”‚   â””â”€â”€ avatarUrl: string (optional)
â”‚
â”œâ”€â”€ courses/                         (KhÃ³a há»c)
â”‚   â”œâ”€â”€ {courseId}/
â”‚   â”‚   â”œâ”€â”€ name: string
â”‚   â”‚   â”œâ”€â”€ instructorId: string     â† UID cá»§a giáº£ng viÃªn
â”‚   â”‚   â”œâ”€â”€ instructorName: string
â”‚   â”‚   â”œâ”€â”€ description: string
â”‚   â”‚   â”œâ”€â”€ colorHex: string
â”‚   â”‚   â”œâ”€â”€ studentIds: [string]     â† Danh sÃ¡ch UID há»c sinh
â”‚   â”‚   â”œâ”€â”€ createdAt: timestamp
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ materials/               (TÃ i liá»‡u bÃ i giáº£ng)
â”‚   â”‚   â”‚   â”œâ”€â”€ {materialId}/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ title: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ description: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ fileUrl: string  â† Firebase Storage URL
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ fileName: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ fileSize: number
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ createdAt: timestamp
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ createdBy: string â† UID instructor
â”‚   â”‚   â”‚
â”‚   â”‚   â”œâ”€â”€ assignments/             (BÃ i táº­p)
â”‚   â”‚   â”‚   â”œâ”€â”€ {assignmentId}/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ title: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ description: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ fileUrl: string  â† Firebase Storage URL
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ fileName: string
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dueDate: timestamp
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ submissions: [   â† Danh sÃ¡ch ná»™p bÃ i
â”‚   â”‚   â”‚   â”‚   â”‚   {
â”‚   â”‚   â”‚   â”‚   â”‚     studentId: string
â”‚   â”‚   â”‚   â”‚   â”‚     fileUrl: string
â”‚   â”‚   â”‚   â”‚   â”‚     fileName: string
â”‚   â”‚   â”‚   â”‚   â”‚     submittedAt: timestamp
â”‚   â”‚   â”‚   â”‚   â”‚     grade: number
â”‚   â”‚   â”‚   â”‚   â”‚     feedback: string
â”‚   â”‚   â”‚   â”‚   â”‚   }
â”‚   â”‚   â”‚   â”‚   â”‚]
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ createdAt: timestamp
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ createdBy: string
â”‚   â”‚   â”‚
â”‚   â”‚   â””â”€â”€ quizzes/                 (BÃ i Quiz)
â”‚   â”‚       â”œâ”€â”€ {quizId}/
â”‚   â”‚       â”‚   â”œâ”€â”€ title: string
â”‚   â”‚       â”‚   â”œâ”€â”€ description: string
â”‚   â”‚       â”‚   â”œâ”€â”€ questions: [
â”‚   â”‚       â”‚   â”‚   {
â”‚   â”‚       â”‚   â”‚     id: string
â”‚   â”‚       â”‚   â”‚     question: string
â”‚   â”‚       â”‚   â”‚     type: "multiple_choice|true_false|short_answer"
â”‚   â”‚       â”‚   â”‚     options: [string]
â”‚   â”‚       â”‚   â”‚     correctAnswer: number
â”‚   â”‚       â”‚   â”‚     points: number
â”‚   â”‚       â”‚   â”‚   }
â”‚   â”‚       â”‚   â”‚]
â”‚   â”‚       â”‚   â”œâ”€â”€ duration: number  â† phÃºt
â”‚   â”‚       â”‚   â”œâ”€â”€ dueDate: timestamp
â”‚   â”‚       â”‚   â”œâ”€â”€ responses: [      â† Danh sÃ¡ch tráº£ lá»i
â”‚   â”‚       â”‚   â”‚   {
â”‚   â”‚       â”‚   â”‚     studentId: string
â”‚   â”‚       â”‚   â”‚     answers: [number]
â”‚   â”‚       â”‚   â”‚     score: number
â”‚   â”‚       â”‚   â”‚     submittedAt: timestamp
â”‚   â”‚       â”‚   â”‚   }
â”‚   â”‚       â”‚   â”‚]
â”‚   â”‚       â”‚   â”œâ”€â”€ createdAt: timestamp
â”‚   â”‚       â”‚   â””â”€â”€ createdBy: string
```

---

## TÃ­nh NÄƒng Chi Tiáº¿t

### ğŸ‘¨â€ğŸ“ STUDENT (Há»c Sinh)

#### 1. ÄÄƒng KÃ½ KhÃ³a Há»c
```
1. Chá»n vai trÃ² "Há»c sinh" khi Ä‘Äƒng kÃ½
2. Nháº­p: Email, Máº­t kháº©u, Há» tÃªn
3. LÆ°u vÃ o Firestore users/{uid} vá»›i role: "student"
4. Tá»± Ä‘á»™ng route Ä‘áº¿n StudentDashboard
```

#### 2. Xem KhÃ³a Há»c ÄÃ£ ÄÄƒng KÃ½
```
StreamBuilder â†’ FirestoreService.getStudentCoursesStream(userId)
â†“
WHERE studentIds CONTAINS userId
â†“
Hiá»ƒn thá»‹ danh sÃ¡ch khÃ³a há»c
```

#### 3. Duyá»‡t & ÄÄƒng KÃ½ KhÃ³a Há»c Má»›i
```
BrowseCoursesScreen
â”œâ”€ TÃ¬m kiáº¿m theo tÃªn khÃ³a há»c/giáº£ng viÃªn
â”œâ”€ Xem chi tiáº¿t khÃ³a há»c
â””â”€ Báº¥m "ÄÄƒng KÃ½" â†’ FirestoreService.enrollStudentInCourse()
   â””â”€ ThÃªm studentId vÃ o courses/{courseId}.studentIds array
```

#### 4. Xem TÃ i Liá»‡u BÃ i Giáº£ng
```
CourseDetailScreen â†’ Materials Tab
â”œâ”€ StreamBuilder â†’ getCourseMaterialsStream(courseId)
â”œâ”€ Hiá»ƒn thá»‹ danh sÃ¡ch PDF/DOC
â””â”€ Táº£i file tá»« Firebase Storage URL
```

#### 5. LÃ m BÃ i Quiz
```
CourseDetailScreen â†’ Quizzes Tab
â”œâ”€ Xem danh sÃ¡ch quiz
â”œâ”€ Báº¥m vÃ o quiz â†’ QuizDetailScreen
â”œâ”€ Tráº£ lá»i cÃ¡c cÃ¢u há»i multiple choice
â”œâ”€ Báº¥m Submit â†’ LÆ°u vÃ o courses/{courseId}/quizzes/{quizId}.responses
â””â”€ Hiá»ƒn thá»‹ Ä‘iá»ƒm ngay láº­p tá»©c
```

#### 6. Ná»™p BÃ i Táº­p
```
CourseDetailScreen â†’ Assignments Tab
â”œâ”€ Xem danh sÃ¡ch bÃ i táº­p
â”œâ”€ Táº£i file assignment (PDF/DOC)
â”œâ”€ Chá»n file Ä‘Ã¡p Ã¡n (.rar/.zip < 50MB)
â”œâ”€ Upload lÃªn Firebase Storage
â””â”€ LÆ°u metadata vÃ o courses/{courseId}/assignments/{assignmentId}.submissions
   â””â”€ Chá» giáº£ng viÃªn cháº¥m Ä‘iá»ƒm
```

#### 7. Xem Káº¿t Quáº£
```
StudentProfileScreen â†’ My Grades
â”œâ”€ Xem Ä‘iá»ƒm quiz
â”œâ”€ Xem Ä‘iá»ƒm assignment + feedback tá»« giáº£ng viÃªn
â””â”€ PhÃ¢n tÃ­ch tiáº¿n Ä‘á»™ há»c táº­p
```

---

### ğŸ‘¨â€ğŸ« INSTRUCTOR (Giáº£ng ViÃªn)

#### 1. ÄÄƒng KÃ½ TÃ i Khoáº£n
```
1. Chá»n vai trÃ² "Giáº£ng viÃªn" khi Ä‘Äƒng kÃ½
2. Nháº­p: Email, Máº­t kháº©u, Há» tÃªn
3. LÆ°u vÃ o Firestore users/{uid} vá»›i role: "instructor"
4. Tá»± Ä‘á»™ng route Ä‘áº¿n InstructorDashboard
```

#### 2. Táº¡o KhÃ³a Há»c
```
InstructorDashboard â†’ FAB (+ button)
â”œâ”€ CreateCourseScreen
â”œâ”€ Nháº­p: TÃªn khÃ³a há»c, MÃ´ táº£, Chá»n mÃ u sáº¯c
â”œâ”€ Báº¥m "Táº¡o" â†’ FirestoreService.addCourse()
â””â”€ LÆ°u vÃ o courses/{courseId} vá»›i:
   â”œâ”€ instructorId: current user UID
   â”œâ”€ instructorName: from users/{uid}
   â”œâ”€ studentIds: [] (trá»‘ng ban Ä‘áº§u)
   â””â”€ createdAt: timestamp
```

#### 3. Upload TÃ i Liá»‡u BÃ i Giáº£ng
```
CourseManagementScreen â†’ Materials Tab
â”œâ”€ Chá»n file PDF/DOC (< 50MB)
â”œâ”€ Upload lÃªn Firebase Storage: courses/{courseId}/materials/file.pdf
â”œâ”€ LÆ°u metadata vÃ o courses/{courseId}/materials/{materialId}
â”‚  â”œâ”€ fileUrl: Firebase Storage URL
â”‚  â”œâ”€ fileName: tÃªn file
â”‚  â”œâ”€ fileSize: dung lÆ°á»£ng
â”‚  â””â”€ createdBy: instructor UID
â””â”€ Student cÃ³ thá»ƒ download tá»« FileUrl
```

#### 4. Nháº­p Danh SÃ¡ch Há»c Sinh (CSV)
```
CourseManagementScreen â†’ Students Tab â†’ Import CSV
â”œâ”€ Táº¡o file CSV: email, fullName
â”‚  â”œâ”€ student1@example.com, Nguyá»…n VÄƒn A
â”‚  â”œâ”€ student2@example.com, Tráº§n Thá»‹ B
â”‚  â””â”€ ...
â”œâ”€ Upload file
â”œâ”€ Parse CSV â†’ Validate email
â””â”€ ThÃªm cÃ¡c email vÃ o courses/{courseId}.studentIds array
   â””â”€ Há»c sinh tá»± Ä‘á»™ng tháº¥y khÃ³a há»c trong danh sÃ¡ch
```

#### 5. Táº¡o BÃ i Quiz
```
CourseManagementScreen â†’ Quizzes Tab â†’ Create Quiz
â”œâ”€ Nháº­p: TiÃªu Ä‘á», MÃ´ táº£, Thá»i háº¡n
â”œâ”€ ThÃªm cÃ¢u há»i (Multiple choice)
â”‚  â”œâ”€ CÃ¢u há»i
â”‚  â”œâ”€ CÃ¡c option
â”‚  â”œâ”€ ÄÃ¡p Ã¡n Ä‘Ãºng
â”‚  â””â”€ Äiá»ƒm
â”œâ”€ Báº¥m "Táº¡o" â†’ LÆ°u vÃ o courses/{courseId}/quizzes/{quizId}
â”‚  â””â”€ questions: [...]
â”‚  â””â”€ responses: [] (trá»‘ng ban Ä‘áº§u)
â””â”€ Student lÃ m quiz â†’ Tá»± Ä‘á»™ng tÃ­nh Ä‘iá»ƒm
```

#### 6. Táº¡o BÃ i Táº­p
```
CourseManagementScreen â†’ Assignments Tab â†’ Create Assignment
â”œâ”€ Nháº­p: TiÃªu Ä‘á», MÃ´ táº£, Deadline
â”œâ”€ Upload file Ä‘á» bÃ i (PDF/DOC < 50MB)
â”‚  â””â”€ LÆ°u vÃ o Firebase Storage
â”œâ”€ Báº¥m "Táº¡o" â†’ LÆ°u vÃ o courses/{courseId}/assignments/{assignmentId}
â”‚  â”œâ”€ fileUrl: Firebase Storage URL
â”‚  â”œâ”€ dueDate: deadline
â”‚  â””â”€ submissions: [] (trá»‘ng ban Ä‘áº§u)
â””â”€ Student xem, táº£i Ä‘á» vÃ  upload bÃ i lÃ m
```

#### 7. Cháº¥m Äiá»ƒm & Feedback
```
CourseManagementScreen â†’ Assignments Tab â†’ Submissions
â”œâ”€ Xem danh sÃ¡ch student Ä‘Ã£ ná»™p
â”‚  â”œâ”€ TÃªn student
â”‚  â”œâ”€ Thá»i gian ná»™p
â”‚  â””â”€ File ná»™p
â”œâ”€ Táº£i file kiá»ƒm tra
â”œâ”€ Nháº­p Ä‘iá»ƒm + feedback
â”œâ”€ Báº¥m "Submit" â†’ Cáº­p nháº­t vÃ o submissions
â”‚  â””â”€ courses/{courseId}/assignments/{assignmentId}.submissions[i].grade
â”‚  â””â”€ courses/{courseId}/assignments/{assignmentId}.submissions[i].feedback
â””â”€ Student nháº­n thÃ´ng bÃ¡o vÃ  xem káº¿t quáº£
```

#### 8. Xem Analytics
```
CourseManagementScreen â†’ Analytics Tab
â”œâ”€ Tá»•ng há»c sinh: count(studentIds)
â”œâ”€ Quiz completion: % lÃ m quiz
â”œâ”€ Assignment submission: % ná»™p bÃ i
â”œâ”€ Average score: trung bÃ¬nh Ä‘iá»ƒm
â””â”€ Student performance ranking
```

---

## TÃ­nh NÄƒng ÄÃ£ HoÃ n ThÃ nh âœ…

- âœ… Firebase Authentication (Email/Password)
- âœ… User Model vá»›i Role (Student/Instructor)
- âœ… Firestore Integration
- âœ… Role-Based Dashboard Routing
- âœ… StudentDashboard vá»›i enrolled courses
- âœ… InstructorDashboard vá»›i created courses
- âœ… User Drawer vá»›i profile info
- âœ… Login/SignUp screens vá»›i role selection
- âœ… Error handling & validation (tiáº¿ng Viá»‡t)

---

## TÃ­nh NÄƒng Cáº§n PhÃ¡t Triá»ƒn ğŸ”„

### Priority 1 (High)
- [ ] BrowseCoursesScreen (Student duyá»‡t khÃ³a há»c)
- [ ] Enroll/Unenroll functionality
- [ ] Upload/Download materials
- [ ] CreateCourseScreen (Instructor)

### Priority 2 (Medium)
- [ ] Quiz system (Create, Take, Grade)
- [ ] Assignment system (Upload, Submit, Grade)
- [ ] CSV import students

### Priority 3 (Low)
- [ ] Announcements
- [ ] Discussion forum
- [ ] Push notifications
- [ ] Analytics dashboard
- [ ] Video streaming

---

## File Structure

```
lib/
â”œâ”€â”€ main.dart                          âœ… Role-based routing
â”œâ”€â”€ firebase_options.dart              âœ… Firebase config
â”‚
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ user_model.dart                âœ… NEW
â”‚   â”œâ”€â”€ course.dart                    âœ… Updated
â”‚   â”œâ”€â”€ material.dart                  ğŸ”„ To add
â”‚   â”œâ”€â”€ assignment.dart                ğŸ”„ To add
â”‚   â”œâ”€â”€ quiz.dart                      ğŸ”„ To add
â”‚   â””â”€â”€ submission.dart                ğŸ”„ To add
â”‚
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ auth_service.dart              âœ… Updated
â”‚   â”œâ”€â”€ firestore_service.dart         âœ… Updated
â”‚   â””â”€â”€ storage_service.dart           âœ… Ready
â”‚
â”œâ”€â”€ screens/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â””â”€â”€ login_screen.dart          âœ… In main.dart
â”‚   â”‚
â”‚   â”œâ”€â”€ student/
â”‚   â”‚   â”œâ”€â”€ student_dashboard.dart     âœ… In main.dart
â”‚   â”‚   â”œâ”€â”€ browse_courses_screen.dart ğŸ”„ To add
â”‚   â”‚   â”œâ”€â”€ course_detail_screen.dart  ğŸ”„ To add
â”‚   â”‚   â”œâ”€â”€ materials_tab.dart         ğŸ”„ To add
â”‚   â”‚   â”œâ”€â”€ assignments_tab.dart       ğŸ”„ To add
â”‚   â”‚   â”œâ”€â”€ quizzes_tab.dart           ğŸ”„ To add
â”‚   â”‚   â””â”€â”€ quiz_detail_screen.dart    ğŸ”„ To add
â”‚   â”‚
â”‚   â”œâ”€â”€ instructor/
â”‚   â”‚   â”œâ”€â”€ instructor_dashboard.dart  âœ… In main.dart
â”‚   â”‚   â”œâ”€â”€ create_course_screen.dart  ğŸ”„ To add
â”‚   â”‚   â”œâ”€â”€ course_management_screen.dart ğŸ”„ To add
â”‚   â”‚   â”œâ”€â”€ upload_material_screen.dart ğŸ”„ To add
â”‚   â”‚   â”œâ”€â”€ create_quiz_screen.dart    ğŸ”„ To add
â”‚   â”‚   â””â”€â”€ manage_assignments_screen.dart ğŸ”„ To add
â”‚   â”‚
â”‚   â””â”€â”€ shared/
â”‚       â”œâ”€â”€ profile_screen.dart        ğŸ”„ To add
â”‚       â””â”€â”€ settings_screen.dart       ğŸ”„ To add
â”‚
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ file_handler.dart              ğŸ”„ To add
â”‚   â””â”€â”€ csv_handler.dart               ğŸ”„ To add
â”‚
â”œâ”€â”€ widgets/
â”‚   â”œâ”€â”€ course_card.dart               ğŸ”„ To add
â”‚   â””â”€â”€ assignment_card.dart           ğŸ”„ To add
â”‚
â””â”€â”€ constants/
    â”œâ”€â”€ app_colors.dart                ğŸ”„ To add
    â””â”€â”€ app_strings.dart               ğŸ”„ To add

docs/
â”œâ”€â”€ ROLE_BASED_SYSTEM.md               âœ… Created
â”œâ”€â”€ IMPLEMENTATION_GUIDE.md            âœ… Created
â”œâ”€â”€ TEST_GUIDE.md                      âœ… Created
â”œâ”€â”€ FIRESTORE_SETUP.md                 âœ… Created
â””â”€â”€ README.md                          âœ… Updated
```

---

## Testing Checklist

### Authentication
- [ ] Student signup with validation
- [ ] Instructor signup with validation
- [ ] Login with correct credentials
- [ ] Error messages (invalid email, weak password, etc)
- [ ] Role persists across app restarts

### Dashboard
- [ ] Student sees StudentDashboard
- [ ] Instructor sees InstructorDashboard
- [ ] Drawer shows correct user info
- [ ] Logout functionality works

### Course Management
- [ ] Student can browse courses
- [ ] Student can enroll in course
- [ ] Instructor can create course
- [ ] Instructor can see created courses
- [ ] Course appears in student's list after enrollment

### File Management
- [ ] Instructor can upload materials (< 50MB)
- [ ] Student can download materials
- [ ] Instructor can create assignments
- [ ] Student can upload submissions (< 50MB, .rar/.zip)

### Quiz & Grading
- [ ] Instructor can create quiz
- [ ] Student can take quiz
- [ ] System calculates score correctly
- [ ] Instructor can grade assignments
- [ ] Student can see grades and feedback

---

## Firestore Security Rules

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Users - Only user can access their own data
    match /users/{userId} {
      allow read, write: if request.auth.uid == userId;
    }

    // Courses - Public read, instructor write
    match /courses/{courseId} {
      allow read: if true;
      allow write: if request.auth.uid == resource.data.instructorId;
      allow create: if get(/databases/$(database)/documents/users/$(request.auth.uid)).data.role == 'instructor';

      // Subcollections - materials, assignments, quizzes
      match /{subcollection=**} {
        allow read: if request.auth.uid in resource.parent.data.studentIds || 
                       request.auth.uid == resource.parent.data.instructorId;
        allow write: if request.auth.uid == resource.parent.data.instructorId;
      }
    }
  }
}
```

---

## HÆ°á»›ng Dáº«n Báº¯t Äáº§u

1. **Clone project**
   ```bash
   git clone <repo>
   cd elearningfinal
   ```

2. **Install dependencies**
   ```bash
   flutter pub get
   ```

3. **Configure Firebase**
   ```bash
   flutterfire configure
   ```

4. **Set Firestore Rules** (Dev/Test mode)
   - Firebase Console â†’ Firestore â†’ Rules â†’ Set to allow all

5. **Run app**
   ```bash
   flutter run -d chrome  # Web
   flutter run -d android # Android
   ```

6. **Test authentication**
   - SignUp as Student: test1@example.com / password123
   - SignUp as Instructor: instructor@example.com / password123
   - Login vÃ  verify dashboard routing

---

## LiÃªn Há»‡ & Support

Xem cÃ¡c file documentation chi tiáº¿t:
- **ROLE_BASED_SYSTEM.md** - Tá»•ng quan há»‡ thá»‘ng
- **IMPLEMENTATION_GUIDE.md** - Chi tiáº¿t phÃ¡t triá»ƒn tá»«ng feature
- **TEST_GUIDE.md** - HÆ°á»›ng dáº«n test
- **FIRESTORE_SETUP.md** - Cáº¥u hÃ¬nh Firestore

---

**Last Updated:** 22/01/2025  
**Status:** ğŸ”„ In Development
